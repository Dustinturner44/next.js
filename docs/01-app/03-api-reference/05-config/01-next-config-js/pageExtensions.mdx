---
title: pageExtensions
description: Extend the default page extensions used by Next.js when resolving pages in the Pages Router.
---

{/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}

<AppOnly>

By default, Next.js accepts files with the following extensions: `.tsx`, `.ts`, `.jsx`, `.js`. This can be modified to allow other extensions like markdown (`.md`, `.mdx`).

```js filename="next.config.js"
const withMDX = require('@next/mdx')()

/** @type {import('next').NextConfig} */
const nextConfig = {
  pageExtensions: ['js', 'jsx', 'ts', 'tsx', 'md', 'mdx'],
}

module.exports = withMDX(nextConfig)
```

Changing these values affects App Router file conventions and other entrypoints that rely on extensions. Specifically, it applies to:

- `app/**/page.*`
- `app/**/route.*`
- `app/**/layout.*`
- `app/**/template.*`
- `app/**/default.*`
- `app/**/not-found.*`
- `app/**/loading.*`
- `app/**/error.*`
- `app/global-not-found.*` (when `experimental.globalNotFound` is enabled)
- `middleware.*` (at the project root)
- `instrumentation.*` (at the project root or `src/`)
- Metadata route files under `app/` like `robots.*`, `manifest.*`, `sitemap.*`, and static metadata assets (e.g. `icon.*`, `apple-icon.*`, `opengraph-image.*`, `twitter-image.*`). Static asset extensions remain fixed (e.g. `.ico`, `.png`, etc.), while code-based variants use your configured extensions.

For example using this configuration:

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
module.exports = {
  // TS-only with custom extension suffix
  pageExtensions: ['app.ts', 'app.tsx'],
}
```

```txt filename="Project files"
app/
  blog/
    page.app.tsx          // picked up (page)
  dashboard/
    layout.app.tsx        // picked up (layout)
    page.app.tsx          // picked up (page)
  sitemap/
    route.app.ts          // picked up (route)
  robots.app.ts           // picked up (metadata route)
  manifest.app.ts         // picked up (metadata route)
  favicon.ico             // static asset (extension fixed)
  not-found.app.tsx       // picked up (not-found)
  global-not-found.app.tsx // picked up when experimental.globalNotFound = true
  error.app.tsx           // picked up (error)
  loading.app.tsx         // picked up (loading)
middleware.app.ts         // picked up at project root
instrumentation.app.ts    // picked up at project root or src/
```

> **Good to know**:
> This is an advanced feature, mostly used when [mdx support](/docs/app/guides/mdx) is needed.
> For most applications setting `pageExtensions` is not necessary.

</AppOnly>

<PagesOnly>

You can extend the default Page extensions (`.tsx`, `.ts`, `.jsx`, `.js`) used by Next.js. Inside `next.config.js`, add the `pageExtensions` config:

```js filename="next.config.js"
module.exports = {
  pageExtensions: ['mdx', 'md', 'jsx', 'js', 'tsx', 'ts'],
}
```

Changing these values affects _all_ Next.js pages, including the following:

- [`middleware.js`](/docs/pages/api-reference/file-conventions/middleware)
- [`instrumentation.js`](/docs/pages/guides/instrumentation)
- `pages/_document.js`
- `pages/_app.js`
- `pages/api/`

For example, if you reconfigure `.ts` page extensions to `.page.ts`, you would need to rename pages like `middleware.page.ts`, `instrumentation.page.ts`, `_app.page.ts`.

## Including non-page files in the `pages` directory

You can colocate test files or other files used by components in the `pages` directory. Inside `next.config.js`, add the `pageExtensions` config:

```js filename="next.config.js"
module.exports = {
  pageExtensions: ['page.tsx', 'page.ts', 'page.jsx', 'page.js'],
}
```

Then, rename your pages to have a file extension that includes `.page` (e.g. rename `MyPage.tsx` to `MyPage.page.tsx`). Ensure you rename _all_ Next.js pages, including the files mentioned above.

</PagesOnly>
